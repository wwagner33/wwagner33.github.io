<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Consulta DBLP API com XML</title>
</head>
<body>
    <h1>Consulta DBLP API com XML</h1>
    <button onclick="loadDBLPData()">Carregar Dados</button>
    <div id="dblpData"></div>

    <script>
        function loadDBLPData() {
            const query = 'aprendizado de máquina'; // Substitua pela sua consulta desejada
            const apiUrl = 'https://dblp.org/search/api';

            // Crie um objeto XML com o seu conteúdo
            const xmlData = `
                <query>
                    <title>${query}</title>
                </query>
            `;

            // Faça uma solicitação HTTP POST para a API do DBLP com o XML
            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/xml',
                },
                body: xmlData,
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('A resposta da rede não foi bem-sucedida');
                }
                return response.json();
            })
            .then(data => {
                // Manipule os dados recebidos da API
                exibirDadosDBLP(data);
            })
            .catch(error => {
                console.error('Houve um problema com a operação de busca:', error);
            });
        }

        function exibirDadosDBLP(data) {
            const dblpDataElement = document.getElementById('dblpData');
            
            // Itere pelos resultados e exiba-os conforme necessário
            let resultHtml = '<h2>Resultados:</h2>';
            for (const entry of data.result.hits.hit) {
                resultHtml += `
                    <p>Título: ${entry.info.title}</p>
                    <p>Autores: ${entry.info.authors}</p>
                    <p>Ano: ${entry.info.year}</p>
                    <p>URL: <a href="${entry.info.url}" target="_blank">${entry.info.url}</a></p>
                    <hr>
                `;
            }
            
            dblpDataElement.innerHTML = resultHtml;
        }
    </script>
</body>
</html>
